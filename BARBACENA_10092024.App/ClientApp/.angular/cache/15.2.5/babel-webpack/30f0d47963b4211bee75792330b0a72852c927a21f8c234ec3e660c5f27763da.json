{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet UploadComponent = class UploadComponent {\n  constructor(fb, videoService, router) {\n    this.fb = fb;\n    this.videoService = videoService;\n    this.router = router;\n    this.selectedFile = null;\n    this.categories = ['Category1', 'Category2', 'Category3']; // Replace with your categories\n    this.uploadForm = this.fb.group({\n      title: ['', Validators.required],\n      description: ['', [Validators.required, Validators.maxLength(160)]],\n      category: ['', Validators.required],\n      file: [null, Validators.required]\n    });\n  }\n  onFileSelected(event) {\n    this.selectedFile = event.target.files[0];\n  }\n  onSubmit() {\n    if (this.uploadForm.invalid || !this.selectedFile) {\n      return;\n    }\n    const formData = new FormData();\n    formData.append('title', this.uploadForm.get('title')?.value);\n    formData.append('description', this.uploadForm.get('description')?.value);\n    formData.append('categories', this.uploadForm.get('category')?.value);\n    formData.append('file', this.selectedFile);\n    this.videoService.uploadVideo(formData).subscribe(response => {\n      console.log('Upload successful', response);\n      this.router.navigate(['/']);\n    }, error => {\n      console.error('Error uploading video', error);\n    });\n  }\n};\nUploadComponent = __decorate([Component({\n  selector: 'app-upload',\n  templateUrl: './upload.component.html',\n  styleUrls: ['./upload.component.css']\n})], UploadComponent);\nexport { UploadComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAQlC,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAK1BC,YAAoBC,EAAe,EAAUC,YAA0B,EAAUC,MAAc;IAA3E,OAAE,GAAFF,EAAE;IAAuB,iBAAY,GAAZC,YAAY;IAAwB,WAAM,GAANC,MAAM;IAHvF,iBAAY,GAAgB,IAAI;IAChC,eAAU,GAAa,CAAC,WAAW,EAAE,WAAW,EAAE,WAAW,CAAC,CAAC,CAAC;IAG9D,IAAI,CAACC,UAAU,GAAG,IAAI,CAACH,EAAE,CAACI,KAAK,CAAC;MAC9BC,KAAK,EAAE,CAAC,EAAE,EAAEC,UAAU,CAACC,QAAQ,CAAC;MAChCC,WAAW,EAAE,CAAC,EAAE,EAAE,CAACF,UAAU,CAACC,QAAQ,EAAED,UAAU,CAACG,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;MACnEC,QAAQ,EAAE,CAAC,EAAE,EAAEJ,UAAU,CAACC,QAAQ,CAAC;MACnCI,IAAI,EAAE,CAAC,IAAI,EAAEL,UAAU,CAACC,QAAQ;KACjC,CAAC;EACJ;EAEAK,cAAc,CAACC,KAAU;IACvB,IAAI,CAACC,YAAY,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;EAC3C;EAEAC,QAAQ;IACN,IAAI,IAAI,CAACd,UAAU,CAACe,OAAO,IAAI,CAAC,IAAI,CAACJ,YAAY,EAAE;MACjD;;IAGF,MAAMK,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAAClB,UAAU,CAACmB,GAAG,CAAC,OAAO,CAAC,EAAEC,KAAK,CAAC;IAC7DJ,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAAClB,UAAU,CAACmB,GAAG,CAAC,aAAa,CAAC,EAAEC,KAAK,CAAC;IACzEJ,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAE,IAAI,CAAClB,UAAU,CAACmB,GAAG,CAAC,UAAU,CAAC,EAAEC,KAAK,CAAC;IACrEJ,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACP,YAAY,CAAC;IAE1C,IAAI,CAACb,YAAY,CAACuB,WAAW,CAACL,QAAQ,CAAC,CAACM,SAAS,CAC9CC,QAAQ,IAAI;MACXC,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEF,QAAQ,CAAC;MAC1C,IAAI,CAACxB,MAAM,CAAC2B,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;IAC7B,CAAC,EACAC,KAAK,IAAI;MACRH,OAAO,CAACG,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C,CAAC,CACF;EACH;CACD;AAvCYhC,eAAe,eAL3BD,SAAS,CAAC;EACTkC,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,GACWnC,eAAe,CAuC3B;SAvCYA,eAAe","names":["Component","UploadComponent","constructor","fb","videoService","router","uploadForm","group","title","Validators","required","description","maxLength","category","file","onFileSelected","event","selectedFile","target","files","onSubmit","invalid","formData","FormData","append","get","value","uploadVideo","subscribe","response","console","log","navigate","error","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\SW-Projects\\BARBACENA_10092024\\BARBACENA_10092024.App\\ClientApp\\src\\app\\upload\\upload.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { VideoService } from '../services/video.service';\n\n@Component({\n  selector: 'app-upload',\n  templateUrl: './upload.component.html',\n  styleUrls: ['./upload.component.css']\n})\nexport class UploadComponent {\n  uploadForm: FormGroup;\n  selectedFile: File | null = null;\n  categories: string[] = ['Category1', 'Category2', 'Category3']; // Replace with your categories\n\n  constructor(private fb: FormBuilder, private videoService: VideoService, private router: Router) {\n    this.uploadForm = this.fb.group({\n      title: ['', Validators.required],\n      description: ['', [Validators.required, Validators.maxLength(160)]],\n      category: ['', Validators.required],\n      file: [null, Validators.required],\n    });\n  }\n\n  onFileSelected(event: any) {\n    this.selectedFile = event.target.files[0];\n  }\n\n  onSubmit() {\n    if (this.uploadForm.invalid || !this.selectedFile) {\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('title', this.uploadForm.get('title')?.value);\n    formData.append('description', this.uploadForm.get('description')?.value);\n    formData.append('categories', this.uploadForm.get('category')?.value);\n    formData.append('file', this.selectedFile);\n\n    this.videoService.uploadVideo(formData).subscribe(\n      (response) => {\n        console.log('Upload successful', response);\n        this.router.navigate(['/']);\n      },\n      (error) => {\n        console.error('Error uploading video', error);\n      }\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}